<html>
<head>
<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
</head>

<body>

<canvas id="example" width="500" height="500"></canvas>
<div id="status"></div>


<br>


<script>
	
		function findPos(obj) 
		{
			var curleft = 0, curtop = 0;
			if (obj.offsetParent) {
				do {
					curleft += obj.offsetLeft;
					curtop += obj.offsetTop;
				} while (obj = obj.offsetParent);
				return { x: curleft, y: curtop };
			}
			return undefined;
		}

		function rgbToHex(r, g, b) 
		{
			if (r > 255 || g > 255 || b > 255)
				throw "Invalid color component";
			return ((r << 16) | (g << 8) | b).toString(16);
		}
	
		// set up some squares
		var example = document.getElementById('example');
		var context = example.getContext('2d');
		//context.fillStyle = "rgb(255,0,0)";
		//context.fillRect(0, 0, 50, 50);
		
		//context.fillStyle = "rgb(0,0,255)";
		//context.fillRect(55, 0, 50, 50);
		
		//context.fillStyle = "rgb(0,255,0)";
		//context.fillRect(55,55,50,50);
		
		//var myCanvas = document.getElementById("example");
		//var ctx = myCanvas.getContext("2d");
		
		//drawPieSlice(ctx, 50, 50, 25, MATH.PI/2, MATH.PI/2 + MATH.PI/4, '#ff0000');
		
		//1ST CIRCLE
		drawPieSlice(context, 250,250,200, (3*Math.PI)/2, (5*Math.PI)/3, '#6b439b');
		drawPieSlice(context, 250,250,200, (5*Math.PI)/3, (11*Math.PI)/6, '#a64499');
		drawPieSlice(context, 250,250,200, (11*Math.PI)/6, (2*Math.PI), '#e44097');
		drawPieSlice(context, 250,250,200, 0, (Math.PI)/6, '#ed1b24');
		drawPieSlice(context, 250,250,200, (Math.PI)/6, (Math.PI)/3, '#f37020');
		drawPieSlice(context, 250,250,200, (Math.PI)/3, (Math.PI)/2, '#f78f1e');
		drawPieSlice(context, 250,250,200, (Math.PI/2), (2*Math.PI)/3, '#ffc20f');
		drawPieSlice(context, 250,250,200, (2*Math.PI)/3, (5*Math.PI)/6, '#fef200');
		drawPieSlice(context, 250,250,200, (5*Math.PI)/6, Math.PI, '#8dfc07');
		drawPieSlice(context, 250,250,200, Math.PI, (7*Math.PI)/6, '#00a88f');
		drawPieSlice(context, 250,250,200, (7*Math.PI)/6, (4*Math.PI)/3, '#0092ce');
		drawPieSlice(context, 250,250,200, (4*Math.PI)/3, (3*Math.PI)/2, '#0154a4');
		
		
		drawPieSlice(context, 250,250,150, 0, (2*Math.PI), '#ffffff');
		
		//2ND CIRCLE
		drawPieSlice(context, 250,250,140, (3*Math.PI)/2, (5*Math.PI)/3, '#8869ad');
		drawPieSlice(context, 250,250,140, (5*Math.PI)/3, (11*Math.PI)/6, '#b868ad');
		drawPieSlice(context, 250,250,140, (11*Math.PI)/6, (2*Math.PI), '#e966ac');
		drawPieSlice(context, 250,250,140, 0, (Math.PI)/6, '#f04950');
		drawPieSlice(context, 250,250,140, (Math.PI)/6, (Math.PI)/3, '#f58d4e');
		drawPieSlice(context, 250,250,140, (Math.PI)/3, (Math.PI)/2, '#f9a54b');
		drawPieSlice(context, 250,250,140, (Math.PI/2), (2*Math.PI)/3, '#fece3e');
		drawPieSlice(context, 250,250,140, (2*Math.PI)/3, (5*Math.PI)/6, '#fff533');
		drawPieSlice(context, 250,250,140, (5*Math.PI)/6, Math.PI, '#a3fd39');
		drawPieSlice(context, 250,250,140, Math.PI, (7*Math.PI)/6, '#00a88f');
		drawPieSlice(context, 250,250,140, (7*Math.PI)/6, (4*Math.PI)/3, '#33a7d8');
		drawPieSlice(context, 250,250,140, (4*Math.PI)/3, (3*Math.PI)/2, '#3276b5');
		
		drawPieSlice(context, 250,250,100, 0, (2*Math.PI), '#ffffff');
		
		//3RD CIRCLE
		drawPieSlice(context, 250,250,90, (3*Math.PI)/2, (5*Math.PI)/3, '#b7a5cd');
		drawPieSlice(context, 250,250,90, (5*Math.PI)/3, (11*Math.PI)/6, '#d3a4ce');
		drawPieSlice(context, 250,250,90, (11*Math.PI)/6, (2*Math.PI), '#f1a3cd');
		drawPieSlice(context, 250,250,90, 0, (Math.PI)/6, '#f69195');
		drawPieSlice(context, 250,250,90, (Math.PI)/6, (Math.PI)/3, '#f9bb94');
		drawPieSlice(context, 250,250,90, (Math.PI)/3, (Math.PI)/2, '#fbc994');
		drawPieSlice(context, 250,250,90, (Math.PI/2), (2*Math.PI)/3, '#ffe18b');
		drawPieSlice(context, 250,250,90, (2*Math.PI)/3, (5*Math.PI)/6, '#fef984');
		drawPieSlice(context, 250,250,90, (5*Math.PI)/6, Math.PI, '#c8fd87');
		drawPieSlice(context, 250,250,90, Math.PI, (7*Math.PI)/6, '#84d4c9');
		drawPieSlice(context, 250,250,90, (7*Math.PI)/6, (4*Math.PI)/3, '#85cae7');
		drawPieSlice(context, 250,250,90, (4*Math.PI)/3, (3*Math.PI)/2, '#85acd3');
		
	
		
		//
		$('#example').mousedown(function(e) {
			var pos = findPos(this);
			var x = e.pageX - pos.x;
			var y = e.pageY - pos.y;
			var coord = "x=" + x + ", y=" + y;
			var c = this.getContext('2d');
			var p = c.getImageData(x, y, 1, 1).data; 
			var hex = "#" + ("000000" + rgbToHex(p[0], p[1], p[2])).slice(-6);
			$('#status').html(hex);

		});
		
		
		// FUNCTION TO DRAW A PIE SLICE ON THE CANVAS
		function drawPieSlice(ctx,centerX, centerY, radius, startAngle, endAngle, color )
		{
			ctx.fillStyle = color;
			ctx.beginPath();
			ctx.moveTo(centerX,centerY);
			ctx.arc(centerX, centerY, radius, startAngle, endAngle);
			ctx.closePath();
			ctx.fill();
		}
		
		
</script>


</body>

</html>