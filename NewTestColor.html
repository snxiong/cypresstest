<html>
<head>
<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
</head>

<body>

<canvas id="example" width="500" height="500"></canvas>
<div id="status"></div>

<form>
	<input type="radio" name="colorCombo" id="Complementary">Complementary
	<input type="radio" name="colorCombo" id="Analogous">Analogous
	<input type="radio" name="colorCombo" id="Triadic">Triadic<br>
	<input type="radio" name="colorCombo" id="SplitComplementary">Split-Complementary
	<input type="radio" name="colorCombo" id="TeTratic">TeTratic Double-Complementary
</form>

<p id="colorComp"></p>

<br>


<script>
		
	
		function findPos(obj) 
		{
			var curleft = 0, curtop = 0;
			if (obj.offsetParent) {
				do {
					curleft += obj.offsetLeft;
					curtop += obj.offsetTop;
				} while (obj = obj.offsetParent);
				return { x: curleft, y: curtop };
			}
			return undefined;
		}

		function rgbToHex(r, g, b) 
		{
			if (r > 255 || g > 255 || b > 255)
				throw "Invalid color component";
			return ((r << 16) | (g << 8) | b).toString(16);
		}
	
		// set up some squares
		var example = document.getElementById('example');
		var context = example.getContext('2d');

		
		
		var firstCircle = ['#6b439b', '#a64499', '#e44097', '#ed1b24', '#f37020', '#f78f1e', '#ffc20f', '#fef200', '#8dfc07', '#00a88f', '#0092ce', '#0154a4'];
		var secondCircle = ['#8869ad', '#b868ad', '#e966ac', '#f04950', '#f58d4e', '#f9a54b', '#fece3e', '#fff533', '#a3fd39', '#33b8a5', '#33a7d8', '#3276b5'];
		var thirdCircle = ['#b7a5cd', '#d3a4ce', '#f1a3cd', '#f69195', '#f9bb94', '#fbc994', '#ffe18b', '#fef984', '#c8fd87', '#84d4c9', '#85cae7', '#85acd3'];
		
		class pieSliceAngle{
			constructor(startAngle, endAngle){
				this.startAngle = startAngle;
				this.endAngle = endAngle;
			}
		}
	
		pieSlice0 = new pieSliceAngle((3*Math.PI)/2, (5*Math.PI)/3);
		pieSlice1 = new pieSliceAngle((5*Math.PI)/3, (11*Math.PI)/6);
		pieSlice2 = new pieSliceAngle((11*Math.PI)/6, (2*Math.PI));
		pieSlice3 = new pieSliceAngle(0, (Math.PI)/6);
		pieSlice4 = new pieSliceAngle((Math.PI)/6, (Math.PI)/3);
		pieSlice5 = new pieSliceAngle((Math.PI)/3, (Math.PI)/2);
		pieSlice6 = new pieSliceAngle((Math.PI/2), (2*Math.PI)/3);
		pieSlice7 = new pieSliceAngle((2*Math.PI)/3, (5*Math.PI)/6);
		pieSlice8 = new pieSliceAngle((5*Math.PI)/6, Math.PI);
		pieSlice9 = new pieSliceAngle(Math.PI, (7*Math.PI)/6);
		pieSlice10 = new pieSliceAngle((7*Math.PI)/6, (4*Math.PI)/3);
		pieSlice11 = new pieSliceAngle((4*Math.PI)/3, (3*Math.PI)/2);
		
		//1ST CIRCLE
		
		drawPieSlice(context, 250,250,200, pieSlice0.startAngle, pieSlice0.endAngle, firstCircle[0]);
		

		drawPieSlice(context, 250,250,200, pieSlice1.startAngle, pieSlice1.endAngle, firstCircle[1]);
		drawPieSlice(context, 250,250,200, pieSlice2.startAngle, pieSlice2.endAngle, firstCircle[2]);
		drawPieSlice(context, 250,250,200, pieSlice3.startAngle, pieSlice3.endAngle, firstCircle[3]);
		drawPieSlice(context, 250,250,200, pieSlice4.startAngle, pieSlice4.endAngle, firstCircle[4]);
		drawPieSlice(context, 250,250,200, pieSlice5.startAngle, pieSlice5.endAngle, firstCircle[5]);
		drawPieSlice(context, 250,250,200, pieSlice6.startAngle, pieSlice6.endAngle, firstCircle[6]);
		drawPieSlice(context, 250,250,200, pieSlice7.startAngle, pieSlice7.endAngle, firstCircle[7]);
		drawPieSlice(context, 250,250,200, pieSlice8.startAngle, pieSlice8.endAngle, firstCircle[8]);
		drawPieSlice(context, 250,250,200, pieSlice9.startAngle, pieSlice9.endAngle, firstCircle[9]);
		drawPieSlice(context, 250,250,200, pieSlice10.startAngle, pieSlice10.endAngle, firstCircle[10]);
		drawPieSlice(context, 250,250,200, pieSlice11.startAngle, pieSlice11.endAngle, firstCircle[11]);
		
		
		drawPieSlice(context, 250,250,145, 0, (2*Math.PI), '#ffffff');
		
		//2ND CIRCLE
		drawPieSlice(context, 250,250,140, pieSlice0.startAngle, pieSlice0.endAngle, secondCircle[0]);
		drawPieSlice(context, 250,250,140, pieSlice1.startAngle, pieSlice1.endAngle, secondCircle[1]);
		drawPieSlice(context, 250,250,140, pieSlice2.startAngle, pieSlice2.endAngle, secondCircle[2]);
		drawPieSlice(context, 250,250,140, pieSlice3.startAngle, pieSlice3.endAngle, secondCircle[3]);
		drawPieSlice(context, 250,250,140, pieSlice4.startAngle, pieSlice4.endAngle, secondCircle[4]);
		drawPieSlice(context, 250,250,140, pieSlice5.startAngle, pieSlice5.endAngle, secondCircle[5]);
		drawPieSlice(context, 250,250,140, pieSlice6.startAngle, pieSlice6.endAngle, secondCircle[6]);
		drawPieSlice(context, 250,250,140, pieSlice7.startAngle, pieSlice7.endAngle, secondCircle[7]);
		drawPieSlice(context, 250,250,140, pieSlice8.startAngle, pieSlice8.endAngle, secondCircle[8]);
		drawPieSlice(context, 250,250,140, pieSlice9.startAngle, pieSlice9.endAngle, secondCircle[9]);
		drawPieSlice(context, 250,250,140, pieSlice10.startAngle, pieSlice10.endAngle, secondCircle[10]);
		drawPieSlice(context, 250,250,140, pieSlice11.startAngle, pieSlice11.endAngle, secondCircle[11]);
		
		drawPieSlice(context, 250,250,95, 0, (2*Math.PI), '#ffffff');
		
		//3RD CIRCLE
		drawPieSlice(context, 250,250,90, pieSlice0.startAngle, pieSlice0.endAngle, thirdCircle[0]);
		drawPieSlice(context, 250,250,90, pieSlice1.startAngle, pieSlice1.endAngle, thirdCircle[1]);
		drawPieSlice(context, 250,250,90, pieSlice2.startAngle, pieSlice2.endAngle, thirdCircle[2]);
		drawPieSlice(context, 250,250,90, pieSlice3.startAngle, pieSlice3.endAngle, thirdCircle[3]);
		drawPieSlice(context, 250,250,90, pieSlice4.startAngle, pieSlice4.endAngle, thirdCircle[4]);
		drawPieSlice(context, 250,250,90, pieSlice5.startAngle, pieSlice5.endAngle, thirdCircle[5]);
		drawPieSlice(context, 250,250,90, pieSlice6.startAngle, pieSlice6.endAngle, thirdCircle[6]);
		drawPieSlice(context, 250,250,90, pieSlice7.startAngle, pieSlice7.endAngle, thirdCircle[7]);
		drawPieSlice(context, 250,250,90, pieSlice8.startAngle, pieSlice8.endAngle, thirdCircle[8]);
		drawPieSlice(context, 250,250,90, pieSlice9.startAngle, pieSlice9.endAngle, thirdCircle[9]);
		drawPieSlice(context, 250,250,90, pieSlice10.startAngle, pieSlice10.endAngle, thirdCircle[10]);
		drawPieSlice(context, 250,250,90, pieSlice11.startAngle, pieSlice11.endAngle, thirdCircle[11]);

		drawPieSliceOutline(context, 250, 250, 200,(3*Math.PI)/2, (5*Math.PI)/3, '#000000');


		
		//drawPieSlice(context, 250,250,45, 0, (2*Math.PI), '#ffffff');
		
		
		var firstComplementary;
		var secondComplementary;
		
		var firstAnalogous;
		var secondAnalogous;
		var thirdAnalogous;
		
		var firstTriadic;
		var secondTriadic;
		var thirdTriadic;
		
		var firstSplitComp;
		var secondSplitComp;
		var thirdSplitComp;
		
		var firstTetratic;
		var secondTetratic;
		var thirdTetratic;
		var fourthTetratic;
		
		//-----------------------------------------------------------------------
		//-------------------------------- BASICALLY MAIN FUNCTION---------------
		//-----------------------------------------------------------------------
		$('#example').mousedown(function(e) {
			var pos = findPos(this);
			var x = e.pageX - pos.x;
			var y = e.pageY - pos.y;
			var coord = "x=" + x + ", y=" + y;
			var c = this.getContext('2d');
			var p = c.getImageData(x, y, 1, 1).data; 
			var hex = "#" + ("000000" + rgbToHex(p[0], p[1], p[2])).slice(-6);
			
			var i;
			
			var circleLevel = 0;
			var colorWheelArray;
			
			
			// FOR STATEMENT THAT WILL FIGURE OUT WHETHER THE USER SELECTED A COLOR FROM
			// THE FIRST, SECOND, OR THIRD CIRCLE
			for(i = 0; i < 12; i++)
			{
				if(firstCircle[i] == hex)
				{
					colorWheelArray = firstCircle;
					circleLevel = 1;
				}
				else if(secondCircle[i] == hex)
				{
					colorWheelArray = secondCircle;
					circleLevel = 2;
				}
				else if(thirdCircle[i] == hex)
				{
					colorWheelArray = thirdCircle;
					circleLevel = 3;
				}
				
				
				if(circleLevel != 0)
				{
					i = 12;
				}
			}
			
			// VARIABLES THAT WILL HOLD WHICH ELEMENT IN THE COLORWHEELARRAY THAT IS CURRENTLY IN PLAY
			var w = 0;
			var x = 0;
			var y = 0;
			var z = 0;
			
			
			// IF STATEMENTS THAT WILL FIGURE OUT THE REST OF THE COLOR COMBINATIONS;
			if(document.getElementById('Complementary').checked)
			{
			
				for(i = 0; i < 12; i++)
				{
					if(colorWheelArray[i] == hex)
					{
						w = i;
						if(i < 6)
						{
							x = i + 6;
						}
						else if(i >= 6)
						{
							x = i - 6;
						}
					}
				}	
				document.getElementById("colorComp").innerHTML =" [" + w + "] [" + x + "] ";
				context.fillStyle = colorWheelArray[w];
				context.fillRect(40, 470, 50, 25);

				context.fillStyle = colorWheelArray[x];
				context.fillRect(100, 470, 50, 25);

				context.fillStyle = "#ffffff";
				context.fillRect(160, 470, 50, 25);

				context.fillStyle = "#ffffff";
				context.fillRect(220, 470, 50, 25);


				
			}
			else if(document.getElementById('Analogous').checked)
			{
				for(i = 0; i < 12; i++)
				{
					if(colorWheelArray[i] == hex)
					{
						w = i;
						x = i + 1;
						y = i - 1;
	
						if(y < 0)
						{
							y = 11;
						}
						else if(x == 12)
						{
							x = 0;
						}
					}
				}

				context.fillStyle = colorWheelArray[y];
				context.fillRect(40, 470, 50, 25);

				context.fillStyle = colorWheelArray[w];
				context.fillRect(100, 470, 50, 25);
	
				context.fillStyle = colorWheelArray[x];
				context.fillRect(160, 470, 50, 25);

				context.fillStyle = "#ffffff";
				context.fillRect(220, 470, 50, 25);

				document.getElementById("colorComp").innerHTML = " [" + y + "] [" + w + "] [" + x + "]";
			}
			else if(document.getElementById('Triadic').checked)
			{
				for(i = 0; i < 12; i++)
				{
					if(colorWheelArray[i] == hex)
					{
						w = i;
						if(w <= 3)
						{
							x = i + 4;
							y = i + 8;
						}
						else if(w >= 4 && w <= 7)
						{
							x = i + 4;
							y = i - 4;
						}	
						else if(w >= 8 && w <= 11)
						{
							x = i - 8;
							y = i - 4;
						}
					}			
				}
				context.fillStyle = colorWheelArray[w];
				context.fillRect(40, 470, 50, 25);

				context.fillStyle = colorWheelArray[x];
				context.fillRect(100, 470, 50, 25);
	
				context.fillStyle = colorWheelArray[y];
				context.fillRect(160, 470, 50, 25);
			
				context.fillStyle = "#ffffff";
				context.fillRect(220, 470, 50, 25);

				document.getElementById("colorComp").innerHTML = " [" + w + "] [" + x + "] [" + y + "]";
			}
			else if(document.getElementById('SplitComplementary').checked)
			{
				for(i = 0; i < 12; i++)
				{
					if(colorWheelArray[i] == hex)
					{
						w = i;
						if(w <= 4)
						{
							x = i + 5;
							y = i + 7;
						}
						else if(w >= 5 && w <= 6)
						{
							x = i + 5;
							y = i - 5;
						}
						else if(w == 7)
						{
							x = i -7;
							y = i - 5;
						}
						else if(w >= 8 && w <= 11)
						{
							x = i - 7;
							y = i - 5;
						}
					}
				}

				context.fillStyle = colorWheelArray[w];
				context.fillRect(40, 470, 50, 25);

				context.fillStyle = colorWheelArray[x];
				context.fillRect(100, 470, 50, 25);
	
				context.fillStyle = colorWheelArray[y];
				context.fillRect(160, 470, 50, 25);

				context.fillStyle = "#ffffff";
				context.fillRect(220, 470, 50, 25);

				document.getElementById("colorComp").innerHTML = " [" + w + "] [" + x + "] [" + y + "]";
			}
			else if(document.getElementById('TeTratic').checked)
			{
				for(i = 0; i < 12; i++)
				{
					
					if(colorWheelArray[i] == hex)
					{
						w = i;
						if(w >= 0 && w <= 1)
						{
							x = i + 4;
							y = i + 6;
							z = i + 10;
						}
						else if(w >= 2 && w <= 5)
						{
							x = i + 4;
							y = i + 6;
							z = i - 2;
						}
						else if(w >= 6 && w <= 7)
						{
							x = i + 4;
							y = i - 6;
							z = i - 2;
						}
						else if(w >= 8 && w <= 11)
						{
							x = i - 8;
							y = i - 6;
							z = i - 2;
						}
					}
					
				}

				context.fillStyle = colorWheelArray[w];
				context.fillRect(40, 470, 50, 25);

				context.fillStyle = colorWheelArray[x];
				context.fillRect(100, 470, 50, 25);
	
				context.fillStyle = colorWheelArray[y];
				context.fillRect(160, 470, 50, 25);

				context.fillStyle = colorWheelArray[z];
				context.fillRect(220, 470, 50, 25);

				document.getElementById("colorComp").innerHTML = " [" + w + "] [" + x + "] [" + y + "] [" + z + "]";
				
				//var hex = "#" + ("000000" + rgbToHex(p[0], p[1], p[2]) + "  E").slice(-9);
			}
		
			
			
			//$('#status').html(hex);

		});
		
	//------------------------------------END OF MAIN FUNCTION------------------------------
		
		
		// FUNCTION TO DRAW A PIE SLICE ON THE CANVAS
		function drawPieSlice(ctx,centerX, centerY, radius, startAngle, endAngle, color )
		{
			startAngle = startAngle + .01;
			endAngle = endAngle - .01;			
			ctx.fillStyle = color;
			ctx.beginPath();
			ctx.moveTo(centerX,centerY);
			ctx.arc(centerX, centerY, radius, startAngle, endAngle);
			ctx.closePath();
			ctx.fill();
		}
		

		function drawPieSliceOutline(ctx, centerX, centerY, radius, startAngle, endAngle, color)
		{
			ctx.fillStyle = color;
			ctx.beginPath();
			ctx.moveTo(centerX,centerY);
			ctx.arc(centerX, centerY, radius, startAngle, endAngle);
			ctx.closePath();
			ctx.lineWidth = 5;
			ctx.stroke();
		}
		
		
</script>


</body>

</html>
